name: Terraform plan and apply

on:
  workflow_call: 
    inputs:
      environment:
        description: 'Deployment environment (nonprd/preprd/prd)'
        type: string
        required: true
      deployment_target:
        description: 'Deployment target (central-comp)'
        type: string
        required: true
        default: 'central-comp'
      deploy_config:
        description: 'Deployment config'
        type: string
        required: false
      backends_config:
        description: 'Backends config'
        type: string
        required: false
jobs:
  example-job:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Print Input
        shell: bash
        run: |
            pwd
            ls -l
            echo "reached mad-core"
            echo "Environment: ${{ inputs.environment }}"
            echo "Deployment Target: ${{ inputs.deployment_target }}"
            echo "Deploy Config: ${{ inputs.deploy_config }}"
            echo "Backends Config: ${{ inputs.backends_config }}"